# ComfyUI Gradio 集成应用使用说明

## 简介

ComfyUI Gradio 集成应用将原本分散的多个图像处理功能整合到一个界面中，通过顶部选择栏可以方便地切换不同功能。

## 功能列表

集成应用包含以下功能：

1. **背景移除** - 自动识别并移除图片背景，生成透明背景图片
2. **图片放大** - 提高图片分辨率和清晰度
3. **物体移除** - 通过文本描述自动识别并移除图片中的物体
4. **手动蒙版物体移除** - 通过手动绘制蒙版来精确移除图片中的物体
5. **图片扩展** - 向图片四周扩展内容，生成更大尺寸的图片
6. **局部重绘** - 通过提示词自动重绘图片中的内容
7. **物体替换** - 将图片中的物体替换为另一张图片中的物体

## 使用方法

### 启动服务

1. 确保已安装所有依赖：
   ```bash
   pip install -r requirements.txt
   ```

2. 启动集成应用：
   ```bash
   python start.py
   ```

3. 在浏览器中访问：
   ```
   http://127.0.0.1:7856
   ```

### 使用界面

1. 在顶部选择栏中选择需要使用的功能
2. 上传图片并设置相应参数
3. 点击"开始处理"按钮
4. 等待处理完成后查看结果

## 各功能使用说明

### 背景移除

1. 上传需要移除背景的图片
2. 调整遮罩偏移量（可选）
3. 点击"开始处理"按钮
4. 处理完成后可下载透明背景的图片

### 图片放大

1. 上传需要放大的图片
2. 点击"开始处理"按钮
3. 处理完成后可下载高清放大后的图片

### 物体移除

1. 上传图片
2. 在文本框中输入要移除的物体描述（例如："watch"、"text"、"table"等）
3. 调整遮罩扩展值（可选）
4. 点击"开始处理"按钮
5. 处理完成后可下载移除物体后的图片

### 手动蒙版物体移除

1. 上传图片
2. 使用绘图工具在需要移除的区域上绘制蒙版
3. 调整遮罩扩展值（可选）
4. 点击"开始处理"按钮
5. 处理完成后可下载移除物体后的图片

### 图片扩展

1. 上传图片
2. 输入扩展内容描述（必填）
3. 设置四个方向的扩展像素值
4. 点击"开始处理"按钮
5. 处理完成后可下载扩展后的图片

### 局部重绘

1. 上传图片
2. 用黑色画笔在图片上标记需要重绘的区域
3. 输入提示词，描述你希望重绘的内容（可选）
4. 调整重绘幅度，值越大重绘越强
5. 点击"开始处理"按钮
6. 处理完成后可下载重绘后的图片

### 物体替换

1. 上传源图片
2. 在源图片上绘制要替换的区域
3. 上传目标图片（用于替换标记区域）
4. 输入物体描述（例如："clothes"、"furniture"等）
5. 点击"开始处理"按钮
6. 处理完成后可下载替换后的图片

## 注意事项

1. 所有处理都依赖于ComfyUI服务，请确保ComfyUI服务正常运行
2. 处理大图片可能需要较长时间，请耐心等待
3. 如果处理失败，请查看日志文件了解详细错误信息

## 日志和统计

- 日志文件位于`logs`目录
- 每个工作日下午17:30会自动发送使用统计报告到钉钉
